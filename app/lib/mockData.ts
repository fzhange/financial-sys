import type { 
  Supplier, 
  PurchaseOrder, 
  ReconciliationStatement, 
  ReconciliationReceiptItem,
  ReconciliationHistory,
  PurchaseReceipt,
  AccountPayable,
  PaymentRecord,
  PaymentRequest,
  Invoice
} from '../types';

// 模拟供应商数据
export const mockSuppliers: Supplier[] = [
  {
    id: '1',
    code: 'SUP001',
    name: '华为技术有限公司',
    contact: '张经理',
    phone: '13800138001',
    email: 'zhang@huawei.com',
    address: '深圳市龙岗区坂田华为基地',
    bankAccount: '6222021234567890123',
    bankName: '中国工商银行深圳分行',
    taxNumber: '91440300MA5XXXXX',
    status: 'active',
    createdAt: '2024-01-15',
    updatedAt: '2024-06-20',
  },
  {
    id: '2',
    code: 'SUP002',
    name: '腾讯科技有限公司',
    contact: '李经理',
    phone: '13800138002',
    email: 'li@tencent.com',
    address: '深圳市南山区腾讯大厦',
    bankAccount: '6222029876543210987',
    bankName: '中国建设银行深圳分行',
    taxNumber: '91440300MA5YYYYY',
    status: 'active',
    createdAt: '2024-02-10',
    updatedAt: '2024-07-15',
  },
  {
    id: '3',
    code: 'SUP003',
    name: '阿里巴巴集团',
    contact: '王经理',
    phone: '13800138003',
    email: 'wang@alibaba.com',
    address: '杭州市余杭区阿里巴巴西溪园区',
    bankAccount: '6222035678901234567',
    bankName: '中国农业银行杭州分行',
    taxNumber: '91330000MA5ZZZZZ',
    status: 'active',
    createdAt: '2024-03-05',
    updatedAt: '2024-08-10',
  },
  {
    id: '4',
    code: 'SUP004',
    name: '京东物流有限公司',
    contact: '赵经理',
    phone: '13800138004',
    email: 'zhao@jd.com',
    address: '北京市亦庄经济开发区',
    bankAccount: '6222041234509876543',
    bankName: '中国银行北京分行',
    taxNumber: '91110000MA5AAAAA',
    status: 'inactive',
    createdAt: '2024-01-20',
    updatedAt: '2024-05-30',
  },
];

// 模拟采购入库单数据
export const mockPurchaseReceipts: PurchaseReceipt[] = [
  {
    id: 'pr-1',
    receiptNo: 'IB251211154',
    purchaseOrderId: '1',
    purchaseOrderNo: 'PO12312312312',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    receiptDate: '2024-12-01',
    warehouseId: 'wh-1',
    warehouseName: '主仓库',
    skuCount: 5,
    totalQuantity: 15,
    goodQuantity: 15,
    defectQuantity: 0,
    totalAmount: 150000,
    payableAmount: 150000,
    reconciliationStatus: 'pending',
    status: 'pending',
    items: [
      {
        id: 'pri-1',
        productId: 'prod-1',
        productCode: 'SRV-001',
        productName: '服务器设备',
        specification: 'Dell R740 64G',
        unit: '台',
        quantity: 5,
        unitPrice: 17699.12,
        amount: 88495.58,
        taxRate: 13,
        taxAmount: 11504.42,
        totalAmount: 100000,
      },
      {
        id: 'pri-2',
        productId: 'prod-2',
        productCode: 'NET-001',
        productName: '网络交换机',
        specification: 'H3C S5130 48口',
        unit: '台',
        quantity: 10,
        unitPrice: 4424.78,
        amount: 44247.79,
        taxRate: 13,
        taxAmount: 5752.21,
        totalAmount: 50000,
      },
    ],
    createdAt: '2024-12-01',
    updatedAt: '2024-12-01',
  },
  {
    id: 'pr-2',
    receiptNo: 'IB251211155',
    purchaseOrderId: '2',
    purchaseOrderNo: 'PO12312312312',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    receiptDate: '2024-12-05',
    warehouseId: 'wh-1',
    warehouseName: '主仓库',
    skuCount: 2,
    totalQuantity: 2,
    goodQuantity: 2,
    defectQuantity: 0,
    totalAmount: 80000,
    payableAmount: 80000,
    reconciliationStatus: 'pending',
    status: 'pending',
    items: [
      {
        id: 'pri-3',
        productId: 'prod-3',
        productCode: 'FW-001',
        productName: '防火墙设备',
        specification: 'Huawei USG6000E',
        unit: '台',
        quantity: 2,
        unitPrice: 35398.23,
        amount: 70796.46,
        taxRate: 13,
        taxAmount: 9203.54,
        totalAmount: 80000,
      },
    ],
    createdAt: '2024-12-05',
    updatedAt: '2024-12-05',
  },
  {
    id: 'pr-3',
    receiptNo: 'IB251211156',
    purchaseOrderId: '3',
    purchaseOrderNo: 'PO12312312312',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    receiptDate: '2024-12-08',
    warehouseId: 'wh-1',
    warehouseName: '主仓库',
    skuCount: 3,
    totalQuantity: 20,
    goodQuantity: 18,
    defectQuantity: 2,
    totalAmount: 60000,
    payableAmount: 54000,
    reconciliationStatus: 'pending',
    status: 'pending',
    items: [
      {
        id: 'pri-4',
        productId: 'prod-4',
        productCode: 'CAB-001',
        productName: '网线',
        specification: 'CAT6 超六类',
        unit: '箱',
        quantity: 20,
        unitPrice: 2654.87,
        amount: 53097.35,
        taxRate: 13,
        taxAmount: 6902.65,
        totalAmount: 60000,
      },
    ],
    createdAt: '2024-12-08',
    updatedAt: '2024-12-08',
  },
  {
    id: 'pr-4',
    receiptNo: 'IB251211157',
    purchaseOrderId: '4',
    purchaseOrderNo: 'PO20241203001',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    receiptDate: '2024-12-03',
    warehouseId: 'wh-1',
    warehouseName: '主仓库',
    skuCount: 1,
    totalQuantity: 1,
    goodQuantity: 1,
    defectQuantity: 0,
    totalAmount: 200000,
    payableAmount: 200000,
    reconciliationStatus: 'matched',
    reconciliationId: 'rec-2',
    status: 'reconciled',
    items: [
      {
        id: 'pri-5',
        productId: 'prod-5',
        productCode: 'SVC-001',
        productName: '云服务年费',
        specification: '腾讯云企业版',
        unit: '年',
        quantity: 1,
        unitPrice: 176991.15,
        amount: 176991.15,
        taxRate: 13,
        taxAmount: 23008.85,
        totalAmount: 200000,
      },
    ],
    createdAt: '2024-12-03',
    updatedAt: '2024-12-13',
  },
];

// 模拟采购订单数据
export const mockPurchaseOrders: PurchaseOrder[] = [
  {
    id: '1',
    orderNo: 'PO202412001',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    orderDate: '2024-12-01',
    totalAmount: 150000,
    paidAmount: 100000,
    status: 'partial',
    items: [
      { id: '1-1', productName: '服务器设备', quantity: 5, unitPrice: 20000, amount: 100000 },
      { id: '1-2', productName: '网络交换机', quantity: 10, unitPrice: 5000, amount: 50000 },
    ],
  },
  {
    id: '2',
    orderNo: 'PO202412002',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    orderDate: '2024-12-05',
    totalAmount: 80000,
    paidAmount: 80000,
    status: 'paid',
    items: [
      { id: '2-1', productName: '防火墙设备', quantity: 2, unitPrice: 40000, amount: 80000 },
    ],
  },
  {
    id: '3',
    orderNo: 'PO202412003',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    orderDate: '2024-12-03',
    totalAmount: 200000,
    paidAmount: 0,
    status: 'pending',
    items: [
      { id: '3-1', productName: '云服务年费', quantity: 1, unitPrice: 200000, amount: 200000 },
    ],
  },
];

// 生成对账单关联的入库单
const generateReconciliationReceipts = (supplierId: string): ReconciliationReceiptItem[] => {
  if (supplierId === '1') {
    return [
      {
        id: 'rri-1',
        receiptId: 'pr-1',
        receiptNo: 'IB251211154',
        receiptDate: '2024-12-01',
        purchaseOrderNo: 'PO12312312312',
        skuCount: 5,
        receiptQuantity: 15,
        goodQuantity: 15,
        defectQuantity: 0,
        category: '服务器/网络设备',
        hasTax: true,
        receiptAmount: 150000,
        payableAmount: 150000,
        reconciliationStatus: 'pending',
      },
      {
        id: 'rri-2',
        receiptId: 'pr-2',
        receiptNo: 'IB251211155',
        receiptDate: '2024-12-05',
        purchaseOrderNo: 'PO12312312312',
        skuCount: 2,
        receiptQuantity: 2,
        goodQuantity: 2,
        defectQuantity: 0,
        category: '安全设备',
        hasTax: true,
        receiptAmount: 80000,
        payableAmount: 80000,
        reconciliationStatus: 'pending',
      },
      {
        id: 'rri-3',
        receiptId: 'pr-3',
        receiptNo: 'IB251211156',
        receiptDate: '2024-12-08',
        purchaseOrderNo: 'PO12312312312',
        skuCount: 3,
        receiptQuantity: 20,
        goodQuantity: 18,
        defectQuantity: 2,
        category: '网络配件',
        hasTax: true,
        receiptAmount: 60000,
        payableAmount: 54000,
        reconciliationStatus: 'pending',
      },
    ];
  }
  return [
    {
      id: 'rri-4',
      receiptId: 'pr-4',
      receiptNo: 'IB251211157',
      receiptDate: '2024-12-03',
      purchaseOrderNo: 'PO20241203001',
      skuCount: 1,
      receiptQuantity: 1,
      goodQuantity: 1,
      defectQuantity: 0,
      category: '云服务',
      hasTax: true,
      receiptAmount: 200000,
      payableAmount: 200000,
      reconciliationStatus: 'matched',
    },
  ];
};

// 模拟对账单数据
export const mockReconciliationStatements: ReconciliationStatement[] = [
  {
    id: 'rec-1',
    statementNo: 'AA12312314123',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    periodStart: '2024-12-01',
    periodEnd: '2024-12-31',
    reconciliationQuantity: 3,
    reconciliationAmount: 290000,
    confirmedAmount: 0,
    status: 'pending',
    receipts: generateReconciliationReceipts('1'),
    createdAt: '2024-12-10',
    updatedAt: '2024-12-12',
  },
  {
    id: 'rec-2',
    statementNo: 'AA12312314124',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    periodStart: '2024-12-01',
    periodEnd: '2024-12-31',
    reconciliationQuantity: 1,
    reconciliationAmount: 200000,
    confirmedAmount: 200000,
    status: 'confirmed',
    receipts: generateReconciliationReceipts('2'),
    createdAt: '2024-12-11',
    updatedAt: '2024-12-13',
    confirmedAt: '2024-12-13',
    confirmedBy: '财务主管',
  },
];

// 模拟应付账款数据
export const mockAccountPayables: AccountPayable[] = [
  {
    id: 'ap-1',
    payableNo: 'AP202412001',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    sourceType: 'reconciliation',
    sourceNo: 'AA12312314124',
    sourceId: 'rec-2',
    amount: 200000,
    paidAmount: 0,
    unpaidAmount: 200000,
    dueDate: '2025-01-13',
    status: 'pending',
    createdAt: '2024-12-13',
    updatedAt: '2024-12-13',
    remark: '对账确认后生成',
  },
  {
    id: 'ap-2',
    payableNo: 'AP202411001',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    sourceType: 'reconciliation',
    sourceNo: 'REC202411001',
    sourceId: 'rec-3',
    amount: 120000,
    paidAmount: 120000,
    unpaidAmount: 0,
    dueDate: '2024-12-30',
    status: 'paid',
    createdAt: '2024-11-30',
    updatedAt: '2024-12-10',
    paidAt: '2024-12-10',
    remark: '11月对账确认后生成',
  },
  {
    id: 'ap-3',
    payableNo: 'AP202410001',
    supplierId: '3',
    supplierName: '阿里巴巴集团',
    sourceType: 'purchase',
    sourceNo: 'PO202410005',
    sourceId: 'po-5',
    amount: 50000,
    paidAmount: 30000,
    unpaidAmount: 20000,
    dueDate: '2024-12-01',
    status: 'overdue',
    createdAt: '2024-10-15',
    updatedAt: '2024-11-20',
    remark: '采购订单生成',
  },
];

// 模拟付款记录
export const mockPaymentRecords: PaymentRecord[] = [
  {
    id: 'pay-1',
    paymentNo: 'PAY202412001',
    payableId: 'ap-2',
    payableNo: 'AP202411001',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    amount: 120000,
    paymentMethod: 'bank_transfer',
    paymentDate: '2024-12-10',
    bankAccount: '6222021234567890123',
    remark: '支付11月应付款',
    createdAt: '2024-12-10 10:30:00',
    operator: '财务主管',
  },
  {
    id: 'pay-2',
    paymentNo: 'PAY202411001',
    payableId: 'ap-3',
    payableNo: 'AP202410001',
    supplierId: '3',
    supplierName: '阿里巴巴集团',
    amount: 30000,
    paymentMethod: 'bank_transfer',
    paymentDate: '2024-11-20',
    bankAccount: '6222035678901234567',
    remark: '部分付款',
    createdAt: '2024-11-20 14:00:00',
    operator: '张会计',
  },
];

// 模拟请款单数据
export const mockPaymentRequests: PaymentRequest[] = [
  {
    id: 'pr-req-1',
    requestNo: 'QK202412001',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    requestType: 'normal',
    payableIds: ['ap-1'],
    payableNos: ['AP202412001'],
    invoiceIds: ['inv-1'],
    invoiceNos: ['FP202412001'],
    requestAmount: 200000,
    approvedAmount: 200000,
    paymentMethod: 'bank_transfer',
    bankAccount: '6222029876543210987',
    bankName: '中国建设银行深圳分行',
    expectedPayDate: '2025-01-10',
    status: 'approved',
    applicant: '张会计',
    approver: '财务主管',
    remark: '12月云服务费用请款',
    createdAt: '2024-12-13',
    updatedAt: '2024-12-14',
    approvedAt: '2024-12-14',
  },
  {
    id: 'pr-req-2',
    requestNo: 'QK202412002',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    requestType: 'urgent',
    payableIds: [],
    payableNos: [],
    invoiceIds: ['inv-2'],
    invoiceNos: ['FP202412002'],
    requestAmount: 150000,
    approvedAmount: 0,
    paymentMethod: 'bank_transfer',
    bankAccount: '6222021234567890123',
    bankName: '中国工商银行深圳分行',
    expectedPayDate: '2024-12-20',
    status: 'pending',
    applicant: '王会计',
    remark: '服务器设备紧急付款',
    createdAt: '2024-12-14',
    updatedAt: '2024-12-14',
  },
  {
    id: 'pr-req-3',
    requestNo: 'QK202411001',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    requestType: 'normal',
    payableIds: ['ap-2'],
    payableNos: ['AP202411001'],
    invoiceIds: ['inv-3'],
    invoiceNos: ['FP202411001'],
    requestAmount: 120000,
    approvedAmount: 120000,
    paymentMethod: 'bank_transfer',
    bankAccount: '6222021234567890123',
    bankName: '中国工商银行深圳分行',
    expectedPayDate: '2024-12-10',
    actualPayDate: '2024-12-10',
    status: 'paid',
    applicant: '张会计',
    approver: '财务主管',
    remark: '11月对账款项',
    createdAt: '2024-12-05',
    updatedAt: '2024-12-10',
    approvedAt: '2024-12-06',
    paidAt: '2024-12-10',
  },
  {
    id: 'pr-req-4',
    requestNo: 'QK202411002',
    supplierId: '3',
    supplierName: '阿里巴巴集团',
    requestType: 'advance',
    payableIds: ['ap-3'],
    payableNos: ['AP202410001'],
    invoiceIds: [],
    invoiceNos: [],
    requestAmount: 20000,
    approvedAmount: 0,
    paymentMethod: 'bank_transfer',
    bankAccount: '6222035678901234567',
    bankName: '中国农业银行杭州分行',
    expectedPayDate: '2024-12-15',
    status: 'rejected',
    applicant: '李会计',
    approver: '财务主管',
    remark: '预付款请求 - 发票未收到',
    createdAt: '2024-12-01',
    updatedAt: '2024-12-02',
    approvedAt: '2024-12-02',
  },
];

// 模拟发票数据
export const mockInvoices: Invoice[] = [
  {
    id: 'inv-1',
    invoiceNo: 'FP202412001',
    invoiceCode: '044001900111',
    invoiceType: 'vat_special',
    supplierId: '2',
    supplierName: '腾讯科技有限公司',
    buyerName: '本公司',
    buyerTaxNo: '91440300MA5BBBBB',
    invoiceDate: '2024-12-10',
    amount: 176991.15,
    taxRate: 13,
    taxAmount: 23008.85,
    totalAmount: 200000,
    payableIds: ['ap-1'],
    payableNos: ['AP202412001'],
    reconciliationIds: ['rec-2'],
    reconciliationNos: ['AA12312314124'],
    verifyStatus: 'verified',
    matchStatus: 'matched',
    status: 'verified',
    receivedAt: '2024-12-11',
    verifiedAt: '2024-12-12',
    remark: '云服务年费发票',
    createdAt: '2024-12-11',
    updatedAt: '2024-12-12',
  },
  {
    id: 'inv-2',
    invoiceNo: 'FP202412002',
    invoiceCode: '044001900112',
    invoiceType: 'vat_special',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    buyerName: '本公司',
    buyerTaxNo: '91440300MA5BBBBB',
    invoiceDate: '2024-12-08',
    amount: 132743.36,
    taxRate: 13,
    taxAmount: 17256.64,
    totalAmount: 150000,
    payableIds: [],
    payableNos: [],
    reconciliationIds: [],
    reconciliationNos: [],
    verifyStatus: 'verified',
    matchStatus: 'pending',
    status: 'verified',
    receivedAt: '2024-12-09',
    verifiedAt: '2024-12-10',
    remark: '服务器设备发票',
    createdAt: '2024-12-09',
    updatedAt: '2024-12-10',
  },
  {
    id: 'inv-3',
    invoiceNo: 'FP202411001',
    invoiceCode: '044001900110',
    invoiceType: 'vat_special',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    buyerName: '本公司',
    buyerTaxNo: '91440300MA5BBBBB',
    invoiceDate: '2024-11-28',
    amount: 106194.69,
    taxRate: 13,
    taxAmount: 13805.31,
    totalAmount: 120000,
    payableIds: ['ap-2'],
    payableNos: ['AP202411001'],
    reconciliationIds: ['rec-3'],
    reconciliationNos: ['REC202411001'],
    verifyStatus: 'verified',
    matchStatus: 'matched',
    status: 'verified',
    receivedAt: '2024-11-29',
    verifiedAt: '2024-11-30',
    remark: '11月设备发票',
    createdAt: '2024-11-29',
    updatedAt: '2024-11-30',
  },
  {
    id: 'inv-4',
    invoiceNo: 'FP202412003',
    invoiceCode: '044001900113',
    invoiceType: 'vat_normal',
    supplierId: '3',
    supplierName: '阿里巴巴集团',
    buyerName: '本公司',
    buyerTaxNo: '91440300MA5BBBBB',
    invoiceDate: '2024-12-05',
    amount: 44247.79,
    taxRate: 13,
    taxAmount: 5752.21,
    totalAmount: 50000,
    payableIds: ['ap-3'],
    payableNos: ['AP202410001'],
    reconciliationIds: [],
    reconciliationNos: [],
    verifyStatus: 'pending',
    matchStatus: 'partial',
    status: 'received',
    receivedAt: '2024-12-06',
    remark: '待验真',
    createdAt: '2024-12-06',
    updatedAt: '2024-12-06',
  },
  {
    id: 'inv-5',
    invoiceNo: 'FP202412004',
    invoiceCode: '044001900114',
    invoiceType: 'electronic',
    supplierId: '1',
    supplierName: '华为技术有限公司',
    buyerName: '本公司',
    buyerTaxNo: '91440300MA5BBBBB',
    invoiceDate: '2024-12-12',
    amount: 70796.46,
    taxRate: 13,
    taxAmount: 9203.54,
    totalAmount: 80000,
    payableIds: [],
    payableNos: [],
    reconciliationIds: [],
    reconciliationNos: [],
    verifyStatus: 'pending',
    matchStatus: 'pending',
    status: 'pending',
    remark: '防火墙设备电子发票',
    createdAt: '2024-12-12',
    updatedAt: '2024-12-12',
  },
];

// 模拟对账历史
export const mockReconciliationHistory: ReconciliationHistory[] = [
  {
    id: 'hist-1',
    reconciliationId: 'rec-1',
    action: 'created',
    operator: '张会计',
    remark: '创建12月对账单',
    createdAt: '2024-12-10 09:00:00',
  },
  {
    id: 'hist-2',
    reconciliationId: 'rec-1',
    action: 'submitted',
    operator: '张会计',
    remark: '提交对账单审核',
    createdAt: '2024-12-10 10:30:00',
  },
  {
    id: 'hist-4',
    reconciliationId: 'rec-2',
    action: 'created',
    operator: '王会计',
    remark: '创建12月对账单',
    createdAt: '2024-12-11 09:00:00',
  },
  {
    id: 'hist-5',
    reconciliationId: 'rec-2',
    action: 'confirmed',
    operator: '财务主管',
    remark: '核对无误，确认对账，生成应付账款AP202412001',
    createdAt: '2024-12-13 16:00:00',
  },
];

// 获取对账统计数据
export const getReconciliationStats = () => {
  const statements = mockReconciliationStatements;
  return {
    totalStatements: statements.length,
    pendingCount: statements.filter(s => s.status === 'pending' || s.status === 'draft').length,
    confirmedCount: statements.filter(s => s.status === 'confirmed').length,
    disputedCount: statements.filter(s => s.status === 'disputed').length,
    totalDifference: statements.reduce((sum, s) => sum + Math.abs(s.reconciliationAmount - s.confirmedAmount), 0),
  };
};

// 获取应付账款统计数据
export const getPayableStats = () => {
  const payables = mockAccountPayables;
  return {
    totalPayables: payables.length,
    totalAmount: payables.reduce((sum, p) => sum + p.amount, 0),
    paidAmount: payables.reduce((sum, p) => sum + p.paidAmount, 0),
    unpaidAmount: payables.reduce((sum, p) => sum + p.unpaidAmount, 0),
    overdueCount: payables.filter(p => p.status === 'overdue').length,
    overdueAmount: payables.filter(p => p.status === 'overdue').reduce((sum, p) => sum + p.unpaidAmount, 0),
  };
};

// 获取请款统计数据
export const getPaymentRequestStats = () => {
  const requests = mockPaymentRequests;
  return {
    totalRequests: requests.length,
    pendingCount: requests.filter(r => r.status === 'pending').length,
    approvedCount: requests.filter(r => r.status === 'approved').length,
    paidCount: requests.filter(r => r.status === 'paid').length,
    totalRequestAmount: requests.reduce((sum, r) => sum + r.requestAmount, 0),
    totalApprovedAmount: requests.filter(r => r.status === 'approved' || r.status === 'paid').reduce((sum, r) => sum + r.approvedAmount, 0),
    totalPaidAmount: requests.filter(r => r.status === 'paid').reduce((sum, r) => sum + r.approvedAmount, 0),
  };
};

// 获取发票统计数据
export const getInvoiceStats = () => {
  const invoices = mockInvoices;
  return {
    totalInvoices: invoices.length,
    pendingCount: invoices.filter(i => i.status === 'pending' || i.status === 'received').length,
    verifiedCount: invoices.filter(i => i.verifyStatus === 'verified').length,
    matchedCount: invoices.filter(i => i.matchStatus === 'matched').length,
    totalAmount: invoices.reduce((sum, i) => sum + i.totalAmount, 0),
    totalTaxAmount: invoices.reduce((sum, i) => sum + i.taxAmount, 0),
  };
};
